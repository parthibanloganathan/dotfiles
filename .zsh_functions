# GitHub Functions

# Function to go to top level of git project
top()
{
  cd `git rev-parse --show-toplevel`
}

# Function to git clone a repo using SSH instead of HTTPS
gitcl()
{
  git clone git@github.com:$1
}

# Valgrind

# Function to run Valgrind check
vg()
{
  valgrind --leak-check=yes $1
}

# Function to run full Valgrind check
vgf()
{
  valgrind --leack-check=full -v $1
}

# Function to create new branch from ticket for Coursera Android
# Usage: courticket TICKET_NUMBER
courticket()
{
  local COURPATH=~/dev/coursera/coursera-android # path of repo
  local KEYSPATH=~/dev/coursera/keys # path of keys to copy
  cd COURPATH
  git fetch --all
  git checkout master
  git pull origin master
  git checkout -b $1
  cd KEYSPATH
  cp Keys.java ../coursera-android/courkit/src/main/java/org/coursera/courkit/
  cd COURPATH
  git submodule init
  git submodule update
}

# Function to clone Coursera Android repository
courclone()
{
  cd ~/dev/coursera # path where you want to clone repo
  git clone git@github.com:webedx-spark/coursera-android.git
  cd coursera-android
}

# Arcanist land
# Usage: arcland TICKET_NUMBER
arcland()
{
  local COURPATH=~/dev/coursera/coursera-android # path of repo  
  cd COURPATH
  git checkout master
  git reset --hard origin/master
  git checkout $1
  arc land
}

# Delete remote branch and push local
forcepush()
{
  local COURPATH=~/dev/coursera/coursera-android # path of repo  
  cd COURPATH
  git push origin $1 --delete
  git push origin $1
}
